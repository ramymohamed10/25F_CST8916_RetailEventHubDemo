<!-- 
    details.ejs (Product Details Page)
    ==================================
    This EJS template displays information for a single product.
    It receives a 'product' object from the server (Express route)
    and shows its image, description, price, and action buttons.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 
        Use the product's name as the page title dynamically.
        <%= %> outputs the product.name value from the server.
    -->
    <title>
        <%= product.name %>
    </title>

    <!-- Include Bootstrap CSS for styling and layout -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <!-- 
        Navigation bar (same style as other pages)
        Lets users navigate between Home and Products.
    -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">ðŸ›’ Retail Store</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/products">Products</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 
        Main content area for the product details
        Bootstrap grid divides the page into two columns:
        Left = product image, Right = product info & buttons
    -->
    <div class="container mt-4">
        <div class="row">

            <!-- LEFT COLUMN: Product image -->
            <div class="col-md-6">
                <img src="<%= product.imageUrl %>" class="img-fluid rounded" alt="<%= product.name %>">
            </div>

            <!-- RIGHT COLUMN: Product details and actions -->
            <div class="col-md-6">
                <!-- Product Name -->
                <h1>
                    <%= product.name %>
                </h1>

                <!-- Product Description -->
                <p class="lead">
                    <%= product.description %>
                </p>

                <!-- Product Price -->
                <h3 class="text-primary">$<%= product.price.toFixed(2) %>
                </h3>

                <!-- Product Category (displayed as a badge) -->
                <p>
                    <span class="badge bg-secondary">
                        <%= product.category %>
                    </span>
                </p>

                <!-- Action Buttons (Add to Cart and Buy Now) -->
                <div class="mt-4">
                    <!-- Add to Cart form -->
                    <form action="/products/<%= product.id %>/addToCart" method="POST" class="d-inline">
                        <button type="submit" class="btn btn-success btn-lg me-2">
                            Add to Cart
                        </button>
                    </form>

                    <!-- Buy Now form -->
                    <form action="/products/<%= product.id %>/purchase" method="POST" class="d-inline">
                        <button type="submit" class="btn btn-primary btn-lg">
                            Buy Now
                        </button>
                    </form>
                </div>

                <!-- Back to Products button -->
                <div class="mt-3">
                    <a href="/products" class="btn btn-outline-secondary">
                        Back to Products
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Bootstrap JS bundle for interactivity (buttons, navbar) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js">
    </script>
</body>

</html>